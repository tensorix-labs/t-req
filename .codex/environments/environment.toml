# THIS IS AUTOGENERATED. DO NOT EDIT MANUALLY
version = 1
name = "t-req"

[setup]
script = "bun install --frozen-lockfile"

[[actions]]
name = "t-req open"
icon = "tool"
command = '''
hash=$(printf '%s' "$PWD" | cksum | awk '{print $1}')
slot=$((hash % 200))
TREQ_PORT=$((4300 + slot))
bun --cwd packages/app run dev open . --host 127.0.0.1 --port "$TREQ_PORT"
'''

[[actions]]
name = "web dev (isolated)"
icon = "tool"
command = '''
hash=$(printf '%s' "$PWD" | cksum | awk '{print $1}')
slot=$((hash % 200))
TREQ_PORT=$((4300 + slot))
WEB_PORT=$((5300 + slot))
VITE_API_URL="http://127.0.0.1:$TREQ_PORT" bun --cwd packages/web run dev -- --port "$WEB_PORT"
'''

[[actions]]
name = "unit test"
icon = "tool"
command = "bun run test:unit"

[[actions]]
name = "lint"
icon = "tool"
command = "bun run lint"

[[actions]]
name = "type check"
icon = "tool"
command = "bun run check-types"

[[actions]]
name = "quality-gate"
icon = "tool"
command = "bun run lint && bun run check-types && bun run test:unit"
